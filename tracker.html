<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>G.R.I.D | Tactical Ops</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
:root {
  --neon: #00ff41;
  --bg-dark: #0e0e0e;
  --panel-bg: rgba(5,5,5,0.92);
  --font: 'Courier New', monospace;
}

html, body {
  margin:0; padding:0; height:100%; background:var(--bg-dark);
  font-family:var(--font); color:var(--neon); overflow:hidden;
}

/* Binary background overlay */
.binary {
  position:absolute; inset:0; z-index:0; color: rgba(0,255,65,0.03);
  font-size:14px; white-space: pre; line-height:18px; pointer-events:none;
}

/* Top nav - BRANDING CENTERED */
.topbar {
  position:absolute; top:0; left:0; width:100%; height:50px;
  display:flex; justify-content:center; align-items:center;
  background:var(--bg-dark); border-bottom:1px solid rgba(0,255,65,0.2); z-index:1000;
}
.topbar .logo { font-weight:bold; letter-spacing:8px; font-size: 1.2rem; }

/* Map */
#map { position:absolute; top:50px; left:0; right:0; bottom:0; z-index:1; }

/* Floating panel */
.info-panel {
  position:absolute; top:70px; left:20px; width:360px; 
  height: auto; 
  max-height: 85vh;
  background:var(--panel-bg); border-radius:20px; border:1px solid rgba(0,255,65,0.3);
  padding:20px; overflow-y:auto; z-index:1000; box-shadow:0 0 25px rgba(0,255,65,0.1);
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.info-panel.hidden {
  transform: translateX(-400px);
  opacity: 0;
  pointer-events: none;
}

.info-panel h3 { margin-top:0; border-bottom:1px solid rgba(0,255,65,0.2); padding-bottom:8px; font-size:1rem; display: flex; justify-content: space-between; align-items: center; }
.close-btn { cursor: pointer; font-size: 0.8rem; border: 1px solid var(--neon); padding: 2px 5px; }

/* Google Earth Button Style */
.geo-btn {
  display: block;
  margin-top: 15px;
  padding: 10px;
  text-align: center;
  border: 1px solid var(--neon);
  color: var(--neon);
  text-decoration: none;
  font-size: 0.7rem;
  transition: background 0.2s;
}
.geo-btn:hover {
  background: rgba(0,255,65,0.1);
}

#openPanel {
  position: absolute; top: 70px; left: 20px; z-index: 999; 
  background: var(--bg-dark); border: 1px solid var(--neon); color: var(--neon);
  padding: 10px; cursor: pointer; font-family: var(--font); font-size: 0.7rem;
}

.row { display:flex; justify-content:space-between; font-size:0.75rem; margin-bottom:5px; }
.label { opacity:0.6; }

.leaflet-tooltip { background:#000; border:1px solid var(--neon); color:var(--neon); font-size:10px; padding:2px 6px; border-radius:4px; }

#coords { position:absolute; bottom:10px; right:20px; font-size:10px; opacity:0.6; z-index:1000; }
</style>
</head>
<body>

<div class="binary" id="binary-bg"></div>

<div class="topbar">
  <div class="logo">G.R.I.D</div>
</div>

<div id="map"></div>

<button id="openPanel" style="display:none;">[ SHOW PANEL ]</button>

<div class="info-panel" id="panel">
  <h3>
    <span>ACTIVE SURVEILLANCE NODE</span>
    <span class="close-btn" onclick="togglePanel()">[X]</span>
  </h3>
  <div id="panelContent">
    <div class="row"><span class="label">STATUS</span><span>GLOBAL MONITORING ACTIVE</span></div>
    <div class="row"><span class="label">UPLINK</span><span>STABLE — ENCRYPTED</span></div>
    <div class="row"><span class="label">THREAT LEVEL</span><span>ELEVATED</span></div>
  </div>
</div>

<div id="coords">LAT: 0 | LNG: 0</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const neon="#00ff41";

const nodes=[
  {id:"N-01", name:"Lukas Reinhardt", city:"Berlin, Germany", lat:52.52, lng:13.405, weapon:"HK416 A5", caliber:"5.56 NATO", recoil:"1.8° vertical", lastFire:"2026-02-14 21:43 UTC", status:"ACTIVE FIELD DEPLOYMENT", bio:"Former tactical specialist. Cross-border monitored."},
  {id:"N-02", name:"Akira Tanaka", city:"Tokyo, Japan", lat:35.6895, lng:139.6917, weapon:"Type 20 Rifle", caliber:"5.56mm", recoil:"1.5° compensated", lastFire:"2026-02-17 03:12 UTC", status:"SURVEILLANCE MODE", bio:"Private security contractor. Structured range cycles."},
  {id:"N-03", name:"Ethan Hunt", city:"New York, USA", lat:40.7128, lng:-74.006, weapon:"AR-15", caliber:".223 Remington", recoil:"2.1° rapid", lastFire:"2026-02-10 18:05 UTC", status:"LOW ACTIVITY", bio:"Civilian licensed owner. No anomalies."},
  {id:"N-04", name:"Sofia Petrova", city:"Moscow, Russia", lat:55.7558, lng:37.6173, weapon:"AK-12", caliber:"5.45x39mm", recoil:"2.5° unmitigated", lastFire:"2026-02-12 14:30 UTC", status:"ACTIVE FIELD DEPLOYMENT", bio:"Former military operative. Elevated activity detected."},
  {id:"N-05", name:"Carlos Mendez", city:"Mexico City, Mexico", lat:19.4326, lng:-99.1332, weapon:"SIG MCX", caliber:"5.56 NATO", recoil:"1.7° controlled", lastFire:"2026-02-15 20:20 UTC", status:"SURVEILLANCE MODE", bio:"Licensed enthusiast. Regular range visits."},
  {id:"N-06", name:"Amina Al-Farsi", city:"Dubai, UAE", lat:24.4539, lng:54.3773, weapon:"Tavor X95", caliber:"5.56 NATO", recoil:"1.6° balanced", lastFire:"2026-02-18 01:45 UTC", status:"LOW ACTIVITY", bio:"Private security consultant. No recent anomalies."},
  {id:"N-07", name:"Liam O'Connor", city:"Dublin, Ireland", lat:53.3498, lng:-6.2603, weapon:"FN SCAR-L", caliber:"5.56 NATO", recoil:"1.9° moderate", lastFire:"2026-02-11 19:55 UTC", status:"ACTIVE FIELD DEPLOYMENT", bio:"Former special forces. Elevated activity detected."},
  {id:"N-08", name:"Isabella Rossi", city:"Rome, Italy", lat:41.9028, lng:12.4964, weapon:"Beretta ARX160", caliber:"5.56 NATO", recoil:"1.8° controlled", lastFire:"2026-02-13 17:40 UTC", status:"SURVEILLANCE MODE", bio:"Licensed owner. Regular range visits."},
  {id:"N-09", name:"Chen Wei", city:"Shanghai, China", lat:31.2304, lng:121.4737, weapon:"QBZ-95", caliber:"5.8mm", recoil:"2.0° unmitigated", lastFire:"2026-02-16 22:10 UTC", status:"LOW ACTIVITY", bio:"Civilian licensed owner. No anomalies."},
  {id:"N-10", name:"Sven Larsson", city:"Stockholm, Sweden", lat:59.3293, lng:18.0686, weapon:"AK5C", caliber:"5.56 NATO", recoil:"1.7° balanced", lastFire:"2026-02-14 20:25 UTC", status:"ACTIVE FIELD DEPLOYMENT", bio:"Former military operative. Elevated activity detected."},
  {id:"N-11", name:"Maria Silva", city:"São Paulo, Brazil", lat:-23.5505, lng:-46.6333, weapon:"IMBEL IA2", caliber:"5.56 NATO", recoil:"1.9° moderate", lastFire:"2026-02-17 18:50 UTC", status:"SURVEILLANCE MODE", bio:"Licensed enthusiast. Regular range visits."},
  {id:"N-12", name:"David Kim", city:"Seoul, South Korea", lat:37.5665, lng:126.978, weapon:"Daewoo K2", caliber:"5.56 NATO", recoil:"1.8° controlled", lastFire:"2026-02-12 16:30 UTC", status:"LOW ACTIVITY", bio:"Civilian licensed owner. No anomalies."},
  {id:"N-13", name:"Fatima Hassan", city:"Cairo, Egypt", lat:30.0444, lng:31.2357, weapon:"Misr Assault Rifle", caliber:"5.56 NATO", recoil:"1.9° moderate", lastFire:"2026-02-15 19:15 UTC", status:"ACTIVE FIELD DEPLOYMENT", bio:"Former tactical specialist. Cross-border monitored."},
  {id:"N-14", name:"Ahmed Al-Mansoori", city:"Abu Dhabi, UAE", lat:24.4667, lng:54.3667, weapon:"M16A4", caliber:"5.56 NATO", recoil:"1.8° controlled", lastFire:"2026-02-18 09:30 UTC", status:"SURVEILLANCE MODE", bio:"Private security consultant. No recent anomalies."},
  {id:"N-15", name:"Jeffrey Epstein", city:"Epstein Island, USA", lat:42.8417, lng:-120.9375, weapon:"AK-47", caliber:"7.62×39mm", recoil:"2.5 unmitigated", lastFire:"2026-02-15 19:15 UTC", status:"HIGH ACTIVITY", bio:"Criminal mastermind. Elevated activity detected."}
];

const map=L.map('map',{
    zoomControl:false, 
    attributionControl:false,
    minZoom: 2,
    maxBounds: [[-90, -180], [90, 180]]
}).setView([25,0],2.2);

L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{
  attribution:'©OpenStreetMap ©CartoDB'
}).addTo(map);

nodes.forEach(n=>{
  const marker=L.circleMarker([n.lat,n.lng],{
    radius:7, color:neon, fillColor:"#000", fillOpacity:1, weight:2
  }).addTo(map);

  marker.bindTooltip(`${n.name} — ${n.city}`, {permanent:true, direction:"top", offset:[0,-10]});

  marker.on("click",()=>{
      if(document.getElementById("panel").classList.contains("hidden")) togglePanel();
      updatePanel(n);
  });
});

function updatePanel(n){
  // Note: Using Google Earth URL format for "Open Geospatial Feed"
  const earthUrl = `https://earth.google.com/web/@${n.lat},${n.lng},1000d`;
  
  document.getElementById("panelContent").innerHTML=`
  <div class="row"><span class="label">ID</span><span>${n.id}</span></div>
  <div class="row"><span class="label">NAME</span><span>${n.name}</span></div>
  <div class="row"><span class="label">LOCATION</span><span>${n.city}</span></div>
  <div class="row"><span class="label">STATUS</span><span>${n.status}</span></div>
  <div class="row"><span class="label">WEAPON</span><span>${n.weapon}</span></div>
  <div class="row"><span class="label">CALIBER</span><span>${n.caliber}</span></div>
  <div class="row"><span class="label">RECOIL</span><span>${n.recoil}</span></div>
  <div class="row"><span class="label">LAST FIRED</span><span>${n.lastFire}</span></div>
  <div style="margin-top:10px;font-size:0.7rem;opacity:0.7;">${n.bio}</div>
  <a href="${earthUrl}" target="_blank" class="geo-btn">OPEN GEOSPATIAL FEED</a>
  `;
}

function togglePanel() {
    const panel = document.getElementById("panel");
    const openBtn = document.getElementById("openPanel");
    if(panel.classList.contains("hidden")) {
        panel.classList.remove("hidden");
        openBtn.style.display = "none";
    } else {
        panel.classList.add("hidden");
        openBtn.style.display = "block";
    }
}

document.getElementById("openPanel").onclick = togglePanel;

map.on("mousemove", function(e){
  document.getElementById("coords").innerText=
  `LAT: ${e.latlng.lat.toFixed(4)} | LNG: ${e.latlng.lng.toFixed(4)}`;
});

const binary = document.getElementById('binary-bg');
function generateBinary() {
  const rows = [];
  for(let i=0;i<50;i++){
    let line = '';
    for(let j=0;j<120;j++){
      line += Math.random() > 0.5 ? '1' : '0';
    }
    rows.push(line);
  }
  binary.textContent = rows.join('\n');
}
setInterval(generateBinary, 100);
</script>
</body>
</html>